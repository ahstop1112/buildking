{"ast":null,"code":"import _regeneratorRuntime from\"/Users/perrycheung/Documents/PROJECT/HKLTTI/buildking/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/perrycheung/Documents/PROJECT/HKLTTI/buildking/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/perrycheung/Documents/PROJECT/HKLTTI/buildking/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/perrycheung/Documents/PROJECT/HKLTTI/buildking/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/perrycheung/Documents/PROJECT/HKLTTI/buildking/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/perrycheung/Documents/PROJECT/HKLTTI/buildking/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import Loader from\"./Loader\";var sleep=function sleep(m){return new Promise(function(r){return setTimeout(r,m);});};export default function asyncComponent(importComponent){var AsyncComponent=/*#__PURE__*/function(_React$Component){_inherits(AsyncComponent,_React$Component);var _super=_createSuper(AsyncComponent);function AsyncComponent(props){var _this;_classCallCheck(this,AsyncComponent);_this=_super.call(this,props);_this.state={component:null};return _this;}_createClass(AsyncComponent,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$importComponen,component;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return sleep(150);case 2:_context.next=4;return importComponent();case 4:_yield$importComponen=_context.sent;component=_yield$importComponen.default;this.setState({component:component});case 7:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var C=this.state.component;return C?/*#__PURE__*/React.createElement(C,this.props):/*#__PURE__*/React.createElement(Loader,null);}}]);return AsyncComponent;}(React.Component);return AsyncComponent;}","map":{"version":3,"sources":["/Users/perrycheung/Documents/PROJECT/HKLTTI/buildking/client/src/components/Async.js"],"names":["React","Loader","sleep","m","Promise","r","setTimeout","asyncComponent","importComponent","AsyncComponent","props","state","component","default","setState","C","Component"],"mappings":"+hCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAAAC,CAAC,QAAI,IAAIC,CAAAA,OAAJ,CAAY,SAAAC,CAAC,QAAIC,CAAAA,UAAU,CAACD,CAAD,CAAIF,CAAJ,CAAd,EAAb,CAAJ,EAAf,CAEA,cAAe,SAASI,CAAAA,cAAT,CAAwBC,eAAxB,CAAyC,IAChDC,CAAAA,cADgD,4HAEpD,wBAAYC,KAAZ,CAAmB,gDACjB,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACXC,SAAS,CAAE,IADA,CAAb,CAHiB,aAMlB,CARmD,mVAW5CV,CAAAA,KAAK,CAAC,GAAD,CAXuC,8BAabM,CAAAA,eAAe,EAbF,4CAajCI,SAbiC,uBAa1CC,OAb0C,CAelD,KAAKC,QAAL,CAAc,CACZF,SAAS,CAAEA,SADC,CAAd,EAfkD,+MAoB3C,CACP,GAAMG,CAAAA,CAAC,CAAG,KAAKJ,KAAL,CAAWC,SAArB,CAEA,MAAOG,CAAAA,CAAC,cAAG,oBAAC,CAAD,CAAO,KAAKL,KAAZ,CAAH,cAA2B,oBAAC,MAAD,MAAnC,CACD,CAxBmD,4BACzBV,KAAK,CAACgB,SADmB,EA2BtD,MAAOP,CAAAA,cAAP,CACD","sourcesContent":["import React from \"react\";\r\n\r\nimport Loader from \"./Loader\";\r\n\r\nconst sleep = m => new Promise(r => setTimeout(r, m));\r\n\r\nexport default function asyncComponent(importComponent) {\r\n  class AsyncComponent extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        component: null\r\n      };\r\n    }\r\n\r\n    async componentDidMount() {\r\n      await sleep(150);\r\n\r\n      const { default: component } = await importComponent();\r\n\r\n      this.setState({\r\n        component: component\r\n      });\r\n    }\r\n\r\n    render() {\r\n      const C = this.state.component;\r\n\r\n      return C ? <C {...this.props} /> : <Loader />\r\n    }\r\n  }\r\n\r\n  return AsyncComponent;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}