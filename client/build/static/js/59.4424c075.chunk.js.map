{"version":3,"sources":["store/context/Project.jsx","store/reducers/Project.jsx","pages/Project/Styles.js","pages/Project/DataTable.js","pages/Project/PageContainer.js","pages/ProjectPage.js","store/context/User.jsx","data/dropdownOptions.jsx","utility/index.jsx"],"names":["ProjectContext","createContext","obj","ProjectReducer","state","action","type","currentField","userInfo","authStr","token","idToken","console","log","login_method","email","csrfToken","loginFields","fieldName","value","isValid","verifyEmail","length","process","REACT_APP_CUSTOM_NODE_ENV","window","sessionStorage","setItem","JSON","stringify","error","isLoggingIn","hasRole","clear","location","href","Button","styled","MuiButton","spacing","Breadcrumbs","MuiBreadcrumbs","Card","MuiCard","Divider","MuiCardContent","props","theme","palette","grey","MuiCardMedia","MuiDivider","Typography","MuiTypography","Paper","MuiChip","rgbcolor","common","white","MuiAvatarGroup","MuiPaper","AddButtonContainer","Grid","DataTable","projectState","useContext","mb","Table","TableHead","TableRow","TableCell","TableBody","projects","map","row","key","id","component","scope","name","description","align","divisions","variant","color","size","target","NavLink","React","forwardRef","ref","innerRef","PageContainer","Fragment","title","gutterBottom","aria-label","mt","Link","exact","to","my","container","item","lg","md","justify","ProjectPage","useReducer","dispatch","Project","Provider","label","max","min","Date","toJSON","slice","replace","test","String","toLowerCase"],"mappings":"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AAS,CACL,QAAW,CACP,SAAY,CACR,YACA,aACA,YACA,aACA,aACA,YACA,aACA,aACA,YACA,aACA,aACA,YACA,cACA,eAEJ,MAAS,CACL,WACA,WACA,qBACA,uBACA,eACA,OACA,gBACA,aACA,cACA,sBACA,kBACA,WAIZ,QAAW,EACX,UAAa,CACT,IAGR,CACI,GAAM,EACN,KAAQ,UACR,YAAe,6HACf,MAAS,CACL,QAAW,CACP,SAAY,CACR,YACA,aACA,YACA,aACA,aACA,YACA,aACA,aACA,YACA,aACA,aACA,YACA,cACA,eAEJ,MAAS,CACL,WACA,WACA,qBACA,uBACA,eACA,OACA,gBACA,aACA,cACA,sBACA,kBACA,WAIZ,QAAW,EACX,UAAa,CACT,IAGR,CACI,GAAM,EACN,KAAQ,UACR,YAAe,0IACf,MAAS,CACL,QAAW,CACP,SAAY,CACR,YACA,aACA,YACA,aACA,aACA,YACA,aACA,aACA,YACA,aACA,aACA,YACA,cACA,eAEJ,MAAS,CACL,WACA,WACA,qBACA,uBACA,eACA,OACA,gBACA,aACA,cACA,sBACA,kBACA,WAIZ,QAAW,EACX,UAAa,CACT,OAjLa,mBAsLpBpE,EAtLoB,KAsLbyG,EAtLa,KAwL3B,OACI,kBAACC,EAAeC,SAAhB,CAAyB5F,MAAO,CAACf,QAAOyG,aACpC,kBAAC,EAAD,S,iCClMV,WAEoB5G,wBAAc,CAAC,GAAI,SAAAC,GAAG,OAAIA,M,uFCsElB,CAC1B,CACE8G,MAAO,MACPC,IAAK,GACLC,IAAK,IAEP,CACEF,MAAO,OACPE,IAAK,EACLD,IAAK,IAGP,CACED,MAAO,SACPE,IAAK,GACLD,IAAK,KAEP,CACED,MAAO,UACPE,IAAK,IACLD,IAAK,KAEP,CACED,MAAO,YACPE,IAAK,IACLD,IAAK,KAEP,CACED,MAAO,eACPE,IAAK,KACLD,IAAK,KAEP,CACED,MAAO,UACPE,IAAK,MACLD,IAAK,MCTsCxC,KAAI,SAAA8B,GAAI,MAAK,CAC1DS,MAAOT,EAAKS,MACZ7F,MAAOoF,EAAKS,MACZE,IAAKX,EAAKW,IACVD,IAAKV,EAAKU,IACV3G,KAAM,oBA8GmB,IAAI6G,MAAOC,SAASC,MAAM,EAAE,IAAIC,QAAQ,KAAK,K,IAiH3DjG,EAAc,SAAAN,GAEzB,MADW,0JACDwG,KAAKC,OAAOzG,GAAO0G","file":"static/js/59.4424c075.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nconst ProjectContext = createContext([{}, obj => obj]);\n\nexport default ProjectContext;\n","import { verifyEmail } from '../../utility/';\n\nconst ProjectReducer = (state, action) => {\n    const { type } = action;\n    let currentField = [];\n    let currentValue = '';\n    let userInfo = [];\n\n    switch (action.type){\n        case 'SET_USER_STATE':\n            \n            return{\n                ...state,\n                authStr:  `Bearer ${action.token}`,\n                idToken: action.token,\n            }\n        case 'CHECK_STATE': \n            console.log(state);\n            return{\n                ...state\n            }\n        case 'SET_LOGIN_BY_EMAIL':\n            return{\n                ...state,\n                login_method: 'basic',\n                email: action.email\n            }    \n        case 'INITIAL_CSRF_TOKEN':\n\n            // console.log(action.csrfToken);\n            return{\n                ...state,\n                csrfToken: action.csrfToken\n            }\n        case 'LOGIN_FIELD_CHECK':\n            currentField = state.loginFields[action.fieldName];\n            currentField['value'] = action.value;\n            let isValid = false;\n\n            // \n            switch (currentField['validation']){\n                case 'email':\n                    isValid = verifyEmail(currentField['value']);\n                    currentField['isValid'] = isValid;\n                break;\n                case 'password':\n                    isValid = currentField['value'].length > 5;\n                    currentField['isValid'] = isValid;\n                break;\n                default:\n                    currentField['isValid'] = isValid;\n            }\n\n            console.log(currentField);\n\n            return{\n                ...state,\n                loginFields: {\n                    ...state.loginFields,\n                    [action.fieldName]: currentField\n                }\n            }\n        case 'SUCCESS_LOGIN': \n            \n            if (process.env.REACT_APP_CUSTOM_NODE_ENV === 'development' ||\n                process.env.REACT_APP_CUSTOM_NODE_ENV === 'staging') {\n                window.sessionStorage.setItem('user', JSON.stringify(state));\n            }\n            // console.log(window.sessionStorage);\n            return{\n                ...state,\n                error: null,\n                isLoggingIn: true,\n                hasRole: true\n            }\n        case 'LOGOUT': \n            if (process.env.REACT_APP_CUSTOM_NODE_ENV === 'development' ||\n                process.env.REACT_APP_CUSTOM_NODE_ENV === 'staging') {\n                window.sessionStorage.clear();\n                window.location.href = '/login';\n            }\n        \n            window.location.href = '/';\n        break;\n        case 'INITIAL_USER_INFO': \n            userInfo = action.userInfo;\n            console.log(userInfo[0]);\n\n            window.location.href = '/projects';\n            //company: \"Buildking\"\n            // email: \"steve.hui@buildking.hk\"\n            // first_name: \"Steve Hui\"\n            // id: 7\n            // last_name: \"\"\n            // user_title: \"Site Agent\"\n            // username: \"Steve Hui\"\n            return{\n                ...state,\n                userInfo: userInfo\n            }\n        break;\n        default: \n            console.log(\"error\");\n            \n        return{\n            ...state\n        };   \n    }\n}\n\nexport default ProjectReducer;","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { spacing } from \"@material-ui/system\";\r\n\r\nimport {\r\n  Avatar,\r\n  Grid,\r\n  Breadcrumbs as MuiBreadcrumbs,\r\n  Card as MuiCard,\r\n  CardContent as MuiCardContent,\r\n  CardMedia as MuiCardMedia,\r\n  Chip as MuiChip,\r\n  Divider as MuiDivider,\r\n  Typography as MuiTypography,\r\n  Paper as MuiPaper,\r\n  Button as MuiButton\r\n} from \"@material-ui/core\";\r\nimport { AvatarGroup as MuiAvatarGroup } from '@material-ui/lab';\r\nexport const Button = styled(MuiButton)(spacing);\r\n\r\nexport const Breadcrumbs = styled(MuiBreadcrumbs)(spacing);\r\n\r\nexport const Card = styled(MuiCard)(spacing);\r\n\r\nexport const CardContent = styled(MuiCardContent)`\r\n  border-bottom: 1px solid ${props => props.theme.palette.grey[300]};\r\n`;\r\n\r\nexport const CardMedia = styled(MuiCardMedia)`\r\n  height: 220px;\r\n`;\r\n\r\nexport const Divider = styled(MuiDivider)(spacing);\r\n\r\nexport const Typography = styled(MuiTypography)(spacing);\r\n\r\nexport const Chip = styled(MuiChip)`\r\n  height: 20px;\r\n  padding: 4px 0;\r\n  font-size: 85%;\r\n  background-color: ${props => props.rgbcolor};\r\n  color: ${props => props.theme.palette.common.white};\r\n  margin-bottom: ${props => props.theme.spacing(4)}px;\r\n`;\r\n\r\nexport const AvatarGroup = styled(MuiAvatarGroup)`\r\n  margin-left: ${props => props.theme.spacing(2)}px;\r\n`\r\n\r\n// const CardContent = styled(MuiCardContent)(spacing);\r\n\r\nexport const Paper = styled(MuiPaper)(spacing);\r\n\r\nexport const AddButtonContainer = styled(Grid)`\r\n  padding-bottom: 20px;\r\n`;","import React, { useContext } from 'react';\nimport ProjectContext from '../../store/context/Project';\nimport {\n    Grid, Link, Table,\n    TableBody, TableCell, TableHead, TableRow\n  } from \"@material-ui/core\";\nimport { Card, Typography, Paper, Button, Divider, Breadcrumbs } from './Styles';\n\nconst DataTable = () => {\n    const project = useContext(ProjectContext);\n    const projectState = project.state;\n\n    return (\n        <Card mb={6}>\n          <Paper>\n            <Table>\n              <TableHead>\n                <TableRow>\n                  <TableCell>Id</TableCell>\n                  <TableCell>Name</TableCell>\n                  <TableCell>Description</TableCell>\n                  <TableCell>Division(s)</TableCell>\n                  <TableCell></TableCell>\n                  <TableCell></TableCell>\n                  <TableCell></TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {projectState.projects.map(row => (\n                  <TableRow key={row.id}>\n                    <TableCell component=\"th\" scope=\"row\">\n                      {row.id}\n                    </TableCell>\n                    <TableCell component=\"th\" scope=\"row\">\n                      <b>{row.name}</b>\n                    </TableCell>\n                    <TableCell>{row.description}</TableCell>\n                    <TableCell align=\"center\">{row.divisions.length}</TableCell>\n                    <TableCell>\n                      <Button\n                        href={`/admin/projects/${row.id}/divisions`}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        size=\"medium\"\n                        target=\"_self\"\n                      >\n                        Details\n                      </Button>\n                    </TableCell>\n                    <TableCell>\n                      <Button\n                        href={`/admin/project/edit/${row.id}`}\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        size=\"medium\"\n                        target=\"_self\"\n                      >\n                        Edit\n                      </Button>\n                    </TableCell>\n                    <TableCell>\n                      <Button\n                        href={`/admin/project/remove/${row.id}`}\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        size=\"medium\"\n                        target=\"_self\"\n                      >\n                        Remove\n                      </Button>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </Paper>\n        </Card>\n      );\n}\n \nexport default DataTable;","import React from 'react';\nimport { NavLink as RouterNavLink } from \"react-router-dom\";\nimport Helmet from 'react-helmet';\nimport { Grid, Link } from '@material-ui/core';\nimport { Card, Typography, Paper, Button, Divider, Breadcrumbs, AddButtonContainer } from './Styles';\nimport DataTable from './DataTable';\n\nconst NavLink = React.forwardRef((props, ref) => (\n  <RouterNavLink innerRef={ref} {...props} />\n));\n\nconst PageContainer = () => {\n  return ( \n    <React.Fragment>\n      <Helmet title=\"Projects\" />\n      <Typography variant=\"h3\" gutterBottom>\n          Projects\n      </Typography>\n      <Breadcrumbs aria-label=\"Breadcrumb\" mt={2}>\n          <Link component={NavLink} exact to=\"/admin/projects\">\n              Admin\n          </Link>\n          <Typography>Projects</Typography>\n      </Breadcrumbs>\n      <Divider my={6} />\n      <AddButtonContainer container item lg={12} md={12} spacing={2} justify=\"flex-end\">\n        <Button\n          href={`/add/project`}\n          variant=\"contained\"\n          color=\"primary\"\n          size=\"large\"\n          target=\"_self\"\n        >\n          Add New Project\n        </Button>\n      </AddButtonContainer>\n      <Grid container item lg={12} md={12}>\n        <DataTable />\n      </Grid>\n    </React.Fragment>\n  );\n}\n \nexport default PageContainer;","\nimport React, { useReducer } from 'react';\nimport { Grid } from \"@material-ui/core\";\nimport UserContext from '../store/context/User';\nimport ProjectContext from '../store/context/Project';\nimport ProjectReducer from '../store/reducers/Project';\nimport PageContainer from './Project/PageContainer';\n\nconst ProjectPage = props => {\n//   console.log(props.id);\n  const initialProjectState = {\n    projects: [\n        {\n            \"id\": 1,\n            \"name\": \"ND/2018/01\",\n            \"description\": \"Site Formation and Infrastructure Works for Police Facilities in Kong Nga Po\",\n            \"extra\": {\n                \"options\": {\n                    \"location\": [\n                        \"Portion A\",\n                        \"Portion A1\",\n                        \"Portion B\",\n                        \"Portion B1\",\n                        \"Portion B2\",\n                        \"Portion C\",\n                        \"Portion C1\",\n                        \"Portion C2\",\n                        \"Portion D\",\n                        \"Portion D1\",\n                        \"Portion D2\",\n                        \"Portion E\",\n                        \"Portion J15\",\n                        \"Portion J18\"\n                    ],\n                    \"works\": [\n                        \"Drainage\",\n                        \"Formwork\",\n                        \"Founding Condition\",\n                        \"Ground Investigation\",\n                        \"Pre-drilling\",\n                        \"PBSH\",\n                        \"Reinforcement\",\n                        \"Steelworks\",\n                        \"Setting Out\",\n                        \"Underground Records\",\n                        \"As-built Survey\",\n                        \"Other\"\n                    ]\n                }\n            },\n            \"deleted\": 0,\n            \"divisions\": [\n                7,\n                8,\n                9,\n                10,\n                11\n            ]\n        },\n        {\n            \"id\": 2,\n            \"name\": \"2001SCO\",\n            \"description\": \"Construction of A 30-Classroom Primary School at Shui Chuen O, Sha Tin\",\n            \"extra\": {\n                \"options\": {\n                    \"location\": [\n                        \"Portion A\",\n                        \"Portion A1\",\n                        \"Portion B\",\n                        \"Portion B1\",\n                        \"Portion B2\",\n                        \"Portion C\",\n                        \"Portion C1\",\n                        \"Portion C2\",\n                        \"Portion D\",\n                        \"Portion D1\",\n                        \"Portion D2\",\n                        \"Portion E\",\n                        \"Portion J15\",\n                        \"Portion J18\"\n                    ],\n                    \"works\": [\n                        \"Drainage\",\n                        \"Formwork\",\n                        \"Founding Condition\",\n                        \"Ground Investigation\",\n                        \"Pre-drilling\",\n                        \"PBSH\",\n                        \"Reinforcement\",\n                        \"Steelworks\",\n                        \"Setting Out\",\n                        \"Underground Records\",\n                        \"As-built Survey\",\n                        \"Other\"\n                    ]\n                }\n            },\n            \"deleted\": 0,\n            \"divisions\": [\n                2\n            ]\n        },\n        {\n            \"id\": 3,\n            \"name\": \"2002ABR\",\n            \"description\": \"Main Contract Works for Proposed New Extension Block at Victoria Shanghai Academy at 19 Shum Wan Road, Aberdeen, Hong Kong\",\n            \"extra\": {\n                \"options\": {\n                    \"location\": [\n                        \"Portion A\",\n                        \"Portion A1\",\n                        \"Portion B\",\n                        \"Portion B1\",\n                        \"Portion B2\",\n                        \"Portion C\",\n                        \"Portion C1\",\n                        \"Portion C2\",\n                        \"Portion D\",\n                        \"Portion D1\",\n                        \"Portion D2\",\n                        \"Portion E\",\n                        \"Portion J15\",\n                        \"Portion J18\"\n                    ],\n                    \"works\": [\n                        \"Drainage\",\n                        \"Formwork\",\n                        \"Founding Condition\",\n                        \"Ground Investigation\",\n                        \"Pre-drilling\",\n                        \"PBSH\",\n                        \"Reinforcement\",\n                        \"Steelworks\",\n                        \"Setting Out\",\n                        \"Underground Records\",\n                        \"As-built Survey\",\n                        \"Other\"\n                    ]\n                }\n            },\n            \"deleted\": 0,\n            \"divisions\": [\n                3\n            ]\n        },\n        {\n            \"id\": 4,\n            \"name\": \"2007MSR\",\n            \"description\": \"Proposed Residential Development at Fanling North New Development at Fanling Sheung Shui Town Lot FSSTL 262, New Territories, Hong Kong\",\n            \"extra\": {\n                \"options\": {\n                    \"location\": [\n                        \"Portion A\",\n                        \"Portion A1\",\n                        \"Portion B\",\n                        \"Portion B1\",\n                        \"Portion B2\",\n                        \"Portion C\",\n                        \"Portion C1\",\n                        \"Portion C2\",\n                        \"Portion D\",\n                        \"Portion D1\",\n                        \"Portion D2\",\n                        \"Portion E\",\n                        \"Portion J15\",\n                        \"Portion J18\"\n                    ],\n                    \"works\": [\n                        \"Drainage\",\n                        \"Formwork\",\n                        \"Founding Condition\",\n                        \"Ground Investigation\",\n                        \"Pre-drilling\",\n                        \"PBSH\",\n                        \"Reinforcement\",\n                        \"Steelworks\",\n                        \"Setting Out\",\n                        \"Underground Records\",\n                        \"As-built Survey\",\n                        \"Other\"\n                    ]\n                }\n            },\n            \"deleted\": 0,\n            \"divisions\": [\n                4\n            ]\n        }\n    ]\n  };\n  const [state, dispatch] = useReducer(ProjectReducer, initialProjectState);\n\n  return (\n      <ProjectContext.Provider value={{state, dispatch}}>\n          <PageContainer />\n      </ProjectContext.Provider>\n  );\n};\n\nexport default ProjectPage;\n\n","import { createContext } from 'react';\n\nconst UserContext = createContext([{}, obj => obj]);\n\nexport default UserContext;\n","export const searchTypes = [\n  {\n    label: 'Search By',\n    value: null,\n    dataType: '',\n    orderBy: 'name_asc'\n  },\n  {\n    label: 'Country',\n    value: 'country',\n    dataType: 'select',\n    orderBy: 'name_asc'\n  },\n  {\n    label: 'City',\n    value: 'city',\n    dataType: 'select',\n    orderBy: 'name_asc'\n  },\n  {\n    label: 'Company',\n    value: 'company',\n    dataType: 'keyword',\n    orderBy: 'name_asc'\n  },\n  {\n    label: 'Relationship Types',\n    value: 'rs_relationshipTypes',\n    dataType: 'select',\n    orderBy: 'name_asc'\n  },\n  {\n    label: 'Brands',\n    value: 'rs_brands',\n    dataType: 'select',\n    orderBy: 'name_asc'\n  },\n  {\n    label: 'Brand Types',\n    value: 'rs_brandTypes',\n    dataType: 'select',\n    orderBy: 'name_asc'\n  },\n  {\n    label: 'Supplier Types',\n    value: 'rs_supplierTypes',\n    dataType: 'select',\n    orderBy: 'name_asc'\n  },\n  {\n    label: 'Affiliation Types',\n    value: 'rs_affiliation',\n    dataType: 'select',\n    orderBy: 'name_asc'\n  },\n  {\n    label: 'Tier',\n    value: 'tier',\n    dataType: 'select',\n    orderBy: 'name_asc'\n  },\n    {\n      label: 'Website',\n      value: 'website',\n      dataType: 'keyword',\n      searchType: 'hsString',\n      orderBy: 'name_asc'\n    }\n];\n\n\n\nexport const companySizes = [\n  {\n    label: 'All',\n    max: '',\n    min: ''\n  },\n  {\n    label: '0-50',\n    min: 0,\n    max: 50,\n    \n  },\n  {\n    label: '51-100',\n    min: 51,\n    max: 100\n  },\n  {\n    label: '101-500',\n    min: 101,\n    max: 500\n  },\n  {\n    label: '501-1,000',\n    min: 501,\n    max: 1000\n  },\n  {\n    label: '1,001-10,000',\n    min: 1001,\n    max: 10000\n  },\n  {\n    label: '10,000+',\n    min: 10001,\n    max: 1000000000\n  }\n];\n\nexport const revenues = [\n  {\n    label: 'All',\n    max: '',\n    min: ''\n  },\n  {\n    label: '$0-10m',\n    min: 0,\n    max: 10,\n  },\n  {\n    label: '$11-25m',\n    min: 11,\n    max: 25\n  },\n  {\n    label: '$26-50m',\n    min: 26,\n    max: 50\n  },\n  {\n    label: '$51-75m',\n    min: 51,\n    max: 75\n  },\n  {\n    label: '$76-100m',\n    min: 76,\n    max: 100\n  },\n  {\n    label: '$100m+',\n    min: 101,\n    max: 1000\n  }\n];\n\nexport const defaultLocation = [\n  {\n    label: \"China\", \n    value: \"China\", \n    type: \"location\"\n  },{\n    label: \"Hong Kong\", \n    value: \"Hong Kong\", \n    type: \"location\"\n  },{\n    label: \"Italy\", \n    value: \"Italy\", \n    type: \"location\"\n  },{\n    label: \"Japan\", \n    value: \"Japan\", \n    type: \"location\"\n  },{\n    label: \"Malaysia\", \n    value: \"Malaysia\", \n    type: \"location\"\n  },{\n    label: \"Mauritius\", \n    value: \"Mauritius\", \n    type: \"location\"\n  },{\n    label: \"Singapore\", \n    value: \"Singapore\", \n    type: \"location\"\n  },{\n    label: \"South Korea\", \n    value: \"South Korea\", \n    type: \"location\"\n  },{\n    label: \"Sri Lanka\", \n    value: \"Sri Lanka\", \n    type: \"location\"\n  },{\n    label: \"Thailand\", \n    value: \"Thailand\", \n    type: \"location\"\n  },{\n    label: \"United Kingdom\", \n    value: \"United Kingdom\", \n    type: \"location\"\n  },{\n    label: \"United States\", \n    value: \"United States\", \n    type: \"location\"\n  },{\n    label: \"Vietnam\", \n    value: \"Vietnam\", \n    type: \"location\"\n  }];\n\nexport const defaultCounterparties = [\n  {\n    label: 1,\n    value: 1,\n    type: \"counterparties\"\n  },{\n    label: 2,\n    value: 2,\n    type: \"counterparties\"\n  },{\n    label: 3,\n    value: 3,\n    type: \"counterparties\"\n  },{\n    label: 4,\n    value: 4,\n    type: \"counterparties\"\n  },{\n    label: 5,\n    value: 5,\n    type: \"counterparties\"\n  },{\n    label: 6,\n    value: 6,\n    type: \"counterparties\"\n  },{\n    label: 7,\n    value: 7,\n    type: \"counterparties\"\n  },{\n    label: 8,\n    value: 8,\n    type: \"counterparties\"\n  },{\n    label: 10,\n    value: 10,\n    type: \"counterparties\"\n  },{\n    label: 12,\n    value: 12,\n    type: \"counterparties\"\n  },{\n    label: 13,\n    value: 13,\n    type: \"counterparties\"\n  },{\n    label: 14,\n    value: 14,\n    type: \"counterparties\"\n  },{\n    label: 15,\n    value: 15,\n    type: \"counterparties\"\n  },{\n    label: 22,\n    value: 22,\n    type: \"counterparties\"\n  },{\n    label: 28,\n    value: 28,\n    type: \"counterparties\"\n  },{\n    label: 41,\n    value: 41,\n    type: \"counterparties\"\n  }\n];\n\nexport const defaultTier = [\n  {\n    label: 0,\n    value: 0,\n    type: \"tier\"\n  },{\n    label: 1,\n    value: 1,\n    type: \"tier\"\n  },{\n    label: 2,\n    value: 2,\n    type: \"tier\"\n}];\n\nexport const defaultAffiliation = [{\n  label: \"supplier\",\n  value: \"supplier\",\n  type: \"rs_affiliation\"\n},{\n  label: \"buyer\",\n  value: \"buyer\",\n  type: \"rs_affiliation\"\n}];","import moment from 'moment';\nimport { searchTypes, companySizes, revenues, defaultCounterparties } from '../data/dropdownOptions';\n\nexport const hasNumber = string => /\\d/.test(string);\n\nexport const hasLowerCase = string => /[a-z]/.test(string);\n\nexport const hasUpperCase = string => /[A-Z]/.test(string);\n\nexport const hasEightChars = string => string.length >= 8;\n\nexport const hasNoSpecialChar = string => /^[a-z0-9]+$/i.test(string);\n\nexport const isWeekday = date => {\n  const day = moment(date).weekday();\n  return day !== 0 && day !== 6;\n};\n\nexport const toPercentage = decimal => decimal * 100;\n\nexport const toDecimal = percentage => 1 / percentage;\n\nexport const toCurrency = decimal =>\n  Number.parseFloat(decimal)\n    .toFixed(2)\n    .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,');\n\nexport const toUTC8FormatDDMMMYYYY = date => {\n  return moment(date)\n    .utcOffset(8)\n    .format('YYYY-MM-DD hh:mm:ss');\n}\n\nexport const convertISOToDatetime = stringDate => {\n  var parts = stringDate.match(/\\d+/g);\n  return new Date(parts[0], parts[1] - 1, parts[2], parts[3], parts[4], parts[5]);\n}\n\nexport const checkAndConvertDate = date => {\n  let formattedDate = date;\n  // console.log(JSON.stringify(date));\n  if (date && typeof(date) === 'string' && !date.includes('GMT')){   //ISO String\n    let parts = date.match(/\\d+/g);\n    formattedDate = new Date(parts[0], parts[1] - 1, parts[2], parts[3], parts[4], parts[5]); //Convert to GMT\n  }\n\n  return formattedDate;\n}\n\nexport const maxDigitDecimal = (number, digit, decimal) =>\n  number\n    .toString()\n    .split('.')\n    .map((element, index) => {\n      if (index) {\n        return element\n          .split('')\n          .slice(0, decimal)\n          .join('');\n      }\n      if (element.length > digit) {\n        return element\n          .split('')\n          .slice(0, digit)\n          .join('');\n      }\n      return element;\n    })\n    .join('.');\n\nexport const dataURItoBlob = dataURI => {\n  // convert base64 to raw binary data held in a string\n  // doesn't handle URLEncoded DataURIs - see SO answer #6850276 for code that does this\n  const byteString = atob(dataURI.split(',')[1]);\n\n  // separate out the mime component\n  const mimeString = dataURI\n    .split(',')[0]\n    .split(':')[1]\n    .split(';')[0];\n\n  // write the bytes of the string to an ArrayBuffer\n  const ab = new ArrayBuffer(byteString.length);\n\n  // create a view into the buffer\n  const ia = new Uint8Array(ab);\n\n  // set the bytes of the buffer to the correct values\n  // eslint-disable-next-line no-plusplus\n  for (let i = 0; i < byteString.length; i++) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n\n  // write the ArrayBuffer to a blob, and you're done\n  const blob = new Blob([ab], { type: mimeString });\n  return blob;\n};\n\nexport const mappedCompanySizes = companySizes.map(item => ({\n  label: item.label,\n  value: item.label,\n  min: item.min,\n  max: item.max,\n  type: 'companySizes'\n}));\n\nexport const mappedDropdown = (data, type) => {\n  if (data) return data.map(item => ({\n    label: item,\n    value: item,\n    type: type\n  }))\n};\n\nexport const mappedAffiliationTypes = (data) => {\n  // console.log(data);\n  return data.map(item => ({\n    label: item.name,\n    value: item.name,\n    type: 'affiliationTypes'\n  }));\n};\n\nexport const mappedRelationshipTypes = (data) => {\n  // console.log(data);\n  return data.map(item => ({\n    label: item.name,\n    value: item.name,\n    type: 'affiliationTypes'\n  }));\n};\n\nexport const mappedDBFields = (data) => {\n  \n  let newData = data.map(item => ({\n    label: item,\n    value: item\n  }));\n\n  return newData;\n\n};\n\nexport const flatten = object => {\n  return Object.assign( {}, ...function _flatten( objectBit, path = '' ) {  //spread the result into our return object\n    return [].concat(\n      // //concat everything into one level\n      ...Object.keys( objectBit ).map(\n        key => typeof objectBit[ key ] === 'object' && objectBit[key] !== undefined && objectBit[key] !== null ?             //check if there is a nested object\n          _flatten( objectBit[ key ], `${ path }_${ key }` ) :              //call itself if there is\n          ( { [ `${ path }_${ key }` ]: objectBit[ key ] } )\n        )\n    )\n  }( object ) );\n};\n\nexport const checkParamsIndex = match => searchTypes.map(e => e.value).indexOf(match.params.type);\nexport const checkParamsKeyword = match => match.params.keyword !== undefined ? match.params.keyword : '';\nexport const checkParamsDropdown = match => {\n  let tmpOption = null;\n  if (match.params.keyword !== undefined && match.params.dataType === 'select'){\n    let array = match.params.keyword.split(\"+\");\n\n    tmpOption = array.map(o => ({barId: 0, label: o, value: o}));\n  }\n  return tmpOption;\n}\nexport const checkParamsSubDropdown = match => {\n  let tmpOption = null;\n  \n  if (match.params.subType !== undefined && match.params.subKeyword !== undefined){\n    let array = match.params.subKeyword.split(\",\");\n    tmpOption = array.map(o => ({barId: 0, label: o, value: o}));\n  }\n  return tmpOption;\n}\n\nexport const calcPageIndex = (currentPage, pageSize) => {\n  return (currentPage)*pageSize\n};\n\nexport const formatInCorpDate = (date) => {\n\n  let formattedDate = date;\n\n  if (date.length === 4){\n      formattedDate = `01/01/${date}`;\n  }else if (date.length === 7){\n      formattedDate = `01/${date}`;\n  }else if (date.length === 0){\n      formattedDate = `/`;\n  }\n  return formattedDate;\n}\n\nexport const calcRevenue = num => {\n\n  let formattedNum = num / 1000;\n  let x = String(formattedNum).indexOf('.') + 1;   //before .\n  let y = String(formattedNum).length - x;  //after .\n\n  if(y > 1){\n    return formattedNum.toFixed(1);\n  }else{\n    return formattedNum;\n  }\n}\n\nexport const totalPages = (totalCount, pageSize) => {\n  let pages = Math.ceil(totalCount / pageSize);\n  return pages;\n};\n\nexport const currentDate = new Date().toJSON().slice(0,10).replace(/-/g,'-');\n\nexport const changeKeyToTitle = key => {\n  let mapObj = {\n    '_0_': '',\n    '_': '',\n    '0': ' 0 ',\n    '1': ' 1 ',\n    '2': ' 2 ',\n    '3': ' 3 ',\n    '4': ' 4 ',\n    '5': ' 5 ',\n    '6': ' 6 ',\n    '7': ' 7 ',\n    '8': ' 8 ',\n    '9': ' 9 ',\n    'id': 'ID',\n    'name1EnglishLanguage': 'Company Name',\n    'telephoneNumber': 'Telephone Number',\n    'incorporationDate': 'Date of Incorporation ',\n    'countryNodename': 'Country',\n    'countryNodeisoCode': 'Country Code',\n    'employeeCount': 'Employee',\n    'networkConnectionsTotal': 'Total of Network Connections',\n    'operatingRevenueInUSD': 'Revenue (USD)',\n    'citynameEnglish': ' City',\n    'website': 'Website',\n    'RefCompany': '',\n    'network': 'Network ',\n    'from': ' From ',\n    'to': ' To ',\n    'buysHs': 'Product Bought ',\n    'sellsHs': 'Product Sold ',\n    'number': 'HS Code',\n    'description': ' Description',\n    'hsCodes': ' HS Codes',\n    'buyerSellerConnections': 'Product Details'\n  }\n  let changedKey = key.replace(/_0_|_|1|2|3|4|5|6|7|8|9|id|name1EnglishLanguage|telephoneNumber|incorporationDate|countryNodename|countryNodeisoCode|citynameEnglish|employeeCount|networkConnectionsTotal|operatingRevenueInUSD|citynameEnglish|website|RefCompany|network|from|to|buysHs|sellsHs|number|description|hsCodes|buyerSellerConnections/gi, function(matched){\n    return mapObj[matched];\n  });\n\n  // console.log(changedKey);\n  \n  return changedKey;\n}\n\nexport const changeNameToSlug = name => {\n  let mapObj = {\n      ' ': '-',\n      '.': '',\n      '(': '',\n      ')': '',\n      ',': '',\n      '/': '',\n      '\"': ''\n  };\n\n  let slug = name.replace(/[ ]|[().,/\"]/gi, function(matched){\n     return mapObj[matched];\n  });\n\n  return slug;\n}\n\nexport const changeSlugToID = name => {\n  let id = name.split('_');\n  return id[0];\n}\n\nexport const changeSlugToIsSubCompany = name => {\n  let id = name.split('_');\n  return id[1];\n}\n\nexport const formatCaptialize = name => {\n\n  if (typeof(name) !== 'string') return name;\n\n  let pieces = name.split(\" \");\n  if (pieces.length > 1) return name;\n\n  for ( let i = 0; i < pieces.length; i++ ){\n    let j = pieces[i].toLowerCase().substring(1);\n    pieces[i] = pieces[i].charAt(0).toUpperCase() + j;\n  }\n\n    return pieces.join(\" \");\n}\n\nexport const countQL = (dataType, option, keyword) => {\n  return dataType === 'select' ? changeObjToString(option, ',') : keyword;\n}\n\nexport const changeObjToStringtify = (obj, sep) => { //change dropdown values to string with \",\"\n  let key = ['value'];  \n  return obj.map(o => JSON.stringify(o[key])).join(sep);\n}\n\nexport const changeObjToString = (obj, sep) => { //change dropdown values to string with \",\"\n  let key = ['value'];\n  return obj.map(o => o[key]).join(sep);\n}\n\nexport const removeQuotes= (optionStr) => {\n  let mapObj = {'\"': ''};\n  let removeQutoes = optionStr.replace(/[\"]/gi, function(matched){\n    return mapObj[matched];\n  });\n\n  return removeQutoes;\n}\n\nexport const verifyEmail = email => {\n  const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}"],"sourceRoot":""}